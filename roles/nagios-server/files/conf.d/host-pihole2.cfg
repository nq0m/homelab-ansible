define host{
        use                     test-net-host
        host_name               pihole-2.servers.test-net.work
        alias                   pihole-2.servers.test-net.work
        address                 pihole-2.servers.test-net.work
}

define service{
        use                     test-net-service
        host_name               pihole-2.servers.test-net.work
        service_description     PING
        check_command           check_ping!-H pihole-2.servers.test-net.work -w 100.0,20% -c 500.0,60% -p 5
}

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             SSH
        check_command                   check_ssh!-H pihole-2.servers.test-net.work
        }

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             HTTPS - pihole-1
        check_command                   check_http!--ssl --sni -C 14 -I pihole-2.servers.test-net.work -H pihole-2.servers.test-net.work -u /
        }

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             HTTPS - Portainer
        check_command                   check_http!--ssl --sni -C 14 -I pihole-2.servers.test-net.work -H pihole-2.servers.test-net.work -p 9000 -u /
        }

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             Disk Space /
        check_command                   check_by_ssh! -C "/usr/lib64/nagios/plugins/check_disk -w 10% -c 5% -p /"!nagcheck
        }

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             Chrony
        check_command                   check_by_ssh! -C "/usr/lib64/nagios/plugins/check_chrony.sh 500 1000"!nagcheck
        }

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             DNS Resolution - pihole external host
        check_command                   check_dig!-H pihole01.servers.test-net.work -l www.google.com
        }

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             DNS Resolution - pihole internal host
        check_command                   check_dig!-H pihole01.servers.test-net.work -l vm01.servers.test-net.work
        }

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             DNS Resolution - pdnsd internal host
        check_command                   check_dig!-H pihole01.servers.test-net.work -p 5353 -l vm01.servers.test-net.work
        }

define service{
        use                             test-net-service
        host_name                       pihole-2.servers.test-net.work
        service_description             DNS Resolution - cloudflared external host
        check_command                   check_dig!-H pihole01.servers.test-net.work -p 5053 -l www.google.com
        }
